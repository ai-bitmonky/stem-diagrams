2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | NEW DIAGRAM GENERATION REQUEST
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | Request ID: req_20251112_215636
2025-11-12 21:56:57 | INFO     | Problem Text Length: 369 characters
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Problem Text:
2025-11-12 21:56:57 | INFO     | --------------------------------------------------------------------------------
2025-11-12 21:56:57 | INFO     |   Question 4:A parallel-plate capacitor of plate area A = 10.5 cm² and plate separation 2d = 7.12 mm is configured as follows: The left half is filled with dielectric κ₁ = 21.0. The right half is divided into two regions - top with κ₂ = 42.0 and bottom with κ₃ = 58.0. Calculate the total capacitance.[Left half: uniform κ₁; Right half: top quarter κ₂, bottom quarter κ₃]
2025-11-12 21:56:57 | INFO     | --------------------------------------------------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Configuration:
2025-11-12 21:56:57 | INFO     |   canvas_width: 1200
2025-11-12 21:56:57 | INFO     |   canvas_height: 800
2025-11-12 21:56:57 | INFO     |   validation_mode: standard
2025-11-12 21:56:57 | INFO     |   active_features: ['Spatial Validation', 'Intelligent Label Placement', 'Property Graph', 'OpenIE', 'Diagram Planner', 'LLM Planner', 'Model Orchestrator', 'Ontology Validation', 'LLM Auditor', 'Structural Validator', 'DeepSeek (Enrichment, Audit, Validation)', 'Request/Response Logging']
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | PHASE 0: NLP Enrichment
2025-11-12 21:56:57 | INFO     | Description: Extract entities, relations, and scientific concepts
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Input:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Problem text (369 chars)
2025-11-12 21:56:57 | INFO     |   Type: str
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Output:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Extracted data using 1 NLP tools
2025-11-12 21:56:57 | INFO     |   openie: dict
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:57 | INFO     | Duration: 2.47ms
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | PHASE 1: Property Graph Construction
2025-11-12 21:56:57 | INFO     | Description: Build knowledge graph from NLP results
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Input:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: NLP extraction results
2025-11-12 21:56:57 | INFO     |   openie: dict
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Output:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Built graph with 9 nodes from 1 sources
2025-11-12 21:56:57 | INFO     |   summary: dict
2025-11-12 21:56:57 | INFO     |   node_types: dict
2025-11-12 21:56:57 | INFO     |   edge_types: dict
2025-11-12 21:56:57 | INFO     |   nodes: [9 items]
2025-11-12 21:56:57 | INFO     |   edges: [5 items]
2025-11-12 21:56:57 | INFO     |   saved_to: output/property_graph.json
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:57 | INFO     | Duration: 3.58ms
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | PHASE 1: DeepSeek Enrichment
2025-11-12 21:56:57 | INFO     | Description: Validate and enrich entities with LLM
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Output:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: DeepSeek entity enrichment
2025-11-12 21:56:57 | INFO     |   error: cannot access local variable 'json' where it is not associated with a value
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase completed: WARNING
2025-11-12 21:56:57 | INFO     | Duration: 0.42ms
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | PHASE 2: Diagram Planning (Property Graph-Driven)
2025-11-12 21:56:57 | INFO     | Description: Create diagram plan from property graph
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Input:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Original request + Property graph
2025-11-12 21:56:57 | INFO     |   Type: str
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Output:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Planning mode: property_graph_driven
2025-11-12 21:56:57 | INFO     |   planning_mode: property_graph_driven
2025-11-12 21:56:57 | INFO     |   domain: current_electricity
2025-11-12 21:56:57 | INFO     |   entity_count: 1
2025-11-12 21:56:57 | INFO     |   relation_count: 0
2025-11-12 21:56:57 | INFO     |   constraint_count: 1
2025-11-12 21:56:57 | INFO     |   complexity_score: 0.035
2025-11-12 21:56:57 | INFO     |   z3_used: False
2025-11-12 21:56:57 | INFO     |   sympy_used: False
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:57 | INFO     | Duration: 1.52ms
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | PHASE 3: Scene Synthesis + Strategic Planning
2025-11-12 21:56:57 | INFO     | Description: Build scene graph and select strategy
2025-11-12 21:56:57 | INFO     | ================================================================================
2025-11-12 21:56:57 | INFO     | 
2025-11-12 21:56:57 | INFO     | Phase Input:
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:57 | INFO     | Summary: Problem specs with 1 objects
2025-11-12 21:56:57 | INFO     |   Type: CanonicalProblemSpec
2025-11-12 21:56:57 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Output:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Scene with 12 objects
2025-11-12 21:56:58 | INFO     |   object_count: 12
2025-11-12 21:56:58 | INFO     |   selected_strategy: heuristic
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:58 | INFO     | Duration: 766.79ms
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | PHASE 4: Ontology Validation
2025-11-12 21:56:58 | INFO     | Description: Validate semantic consistency
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Input:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Specs with 1 objects
2025-11-12 21:56:58 | INFO     |   Type: CanonicalProblemSpec
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Output:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Consistent: True
2025-11-12 21:56:58 | INFO     |   consistent: True
2025-11-12 21:56:58 | INFO     |   errors: [0 items]
2025-11-12 21:56:58 | INFO     |   warnings: [21 items]
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:58 | INFO     | Duration: 35.56ms
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | PHASE 5: Physics Validation
2025-11-12 21:56:58 | INFO     | Description: Validate physics constraints and relationships
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Input:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Scene with 12 objects
2025-11-12 21:56:58 | INFO     |   Type: Scene
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Output:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Errors: 1, Warnings: 1
2025-11-12 21:56:58 | INFO     |   errors: 1
2025-11-12 21:56:58 | INFO     |   warnings: 1
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase completed: SUCCESS
2025-11-12 21:56:58 | INFO     | Duration: 0.44ms
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | PHASE 6: Layout Optimization + Z3
2025-11-12 21:56:58 | INFO     | Description: Compute optimal object positions
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Phase Input:
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | INFO     | Summary: Scene with 12 unpositioned objects
2025-11-12 21:56:58 | INFO     |   Type: Scene
2025-11-12 21:56:58 | INFO     | ----------------------------------------
2025-11-12 21:56:58 | ERROR    | 
2025-11-12 21:56:58 | ERROR    | ================================================================================
2025-11-12 21:56:58 | ERROR    | ERROR OCCURRED
2025-11-12 21:56:58 | ERROR    | ================================================================================
2025-11-12 21:56:58 | ERROR    | Context: {'domain': 'current_electricity', 'phase': 'generation'}
2025-11-12 21:56:58 | ERROR    | Error: AttributeError: 'NoneType' object has no attribute 'get'
2025-11-12 21:56:58 | ERROR    | 
2025-11-12 21:56:58 | ERROR    | Traceback:
2025-11-12 21:56:58 | ERROR    |   Traceback (most recent call last):
2025-11-12 21:56:58 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/unified_diagram_pipeline.py", line 1343, in generate
2025-11-12 21:56:58 | ERROR    |       positioned_scene = self.layout_engine.solve(scene, specs)
2025-11-12 21:56:58 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 84, in solve
2025-11-12 21:56:58 | ERROR    |       iterations = self._solve_constraints(scene)
2025-11-12 21:56:58 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 384, in _solve_constraints
2025-11-12 21:56:58 | ERROR    |       moved = self._apply_constraint(scene, constraint)
2025-11-12 21:56:58 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 427, in _apply_constraint
2025-11-12 21:56:58 | ERROR    |       old_y = obj.position.get('y', 0)
2025-11-12 21:56:58 | ERROR    |               ^^^^^^^^^^^^^^^^
2025-11-12 21:56:58 | ERROR    |   AttributeError: 'NoneType' object has no attribute 'get'
2025-11-12 21:56:58 | ERROR    |   
2025-11-12 21:56:58 | ERROR    | ================================================================================
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | RESPONSE
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | Status: FAILED
2025-11-12 21:56:58 | INFO     | Total Duration: 21403.54ms
2025-11-12 21:56:58 | ERROR    | Error: 'NoneType' object has no attribute 'get'
2025-11-12 21:56:58 | INFO     | 
2025-11-12 21:56:58 | INFO     | Full trace saved to: logs/req_20251112_215636.log
2025-11-12 21:56:58 | INFO     | ================================================================================
2025-11-12 21:56:58 | INFO     | Trace JSON saved to: logs/req_20251112_215636_trace.json
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | NEW DIAGRAM GENERATION REQUEST
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | Request ID: req_20251112_215636
2025-11-12 22:08:57 | INFO     | Problem Text Length: 369 characters
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Problem Text:
2025-11-12 22:08:57 | INFO     | --------------------------------------------------------------------------------
2025-11-12 22:08:57 | INFO     |   Question 4:A parallel-plate capacitor of plate area A = 10.5 cm² and plate separation 2d = 7.12 mm is configured as follows: The left half is filled with dielectric κ₁ = 21.0. The right half is divided into two regions - top with κ₂ = 42.0 and bottom with κ₃ = 58.0. Calculate the total capacitance.[Left half: uniform κ₁; Right half: top quarter κ₂, bottom quarter κ₃]
2025-11-12 22:08:57 | INFO     | --------------------------------------------------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Configuration:
2025-11-12 22:08:57 | INFO     |   canvas_width: 1200
2025-11-12 22:08:57 | INFO     |   canvas_height: 800
2025-11-12 22:08:57 | INFO     |   validation_mode: standard
2025-11-12 22:08:57 | INFO     |   active_features: ['Spatial Validation', 'Intelligent Label Placement', 'Property Graph', 'OpenIE', 'Diagram Planner', 'LLM Planner', 'Model Orchestrator', 'Ontology Validation', 'LLM Auditor', 'Structural Validator', 'DeepSeek (Enrichment, Audit, Validation)', 'Request/Response Logging']
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 0: NLP Enrichment
2025-11-12 22:08:57 | INFO     | Description: Extract entities, relations, and scientific concepts
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Problem text (369 chars)
2025-11-12 22:08:57 | INFO     |   Type: str
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Extracted data using 1 NLP tools
2025-11-12 22:08:57 | INFO     |   openie: dict
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 0.70ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 1: Property Graph Construction
2025-11-12 22:08:57 | INFO     | Description: Build knowledge graph from NLP results
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: NLP extraction results
2025-11-12 22:08:57 | INFO     |   openie: dict
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Built graph with 9 nodes from 1 sources
2025-11-12 22:08:57 | INFO     |   summary: dict
2025-11-12 22:08:57 | INFO     |   node_types: dict
2025-11-12 22:08:57 | INFO     |   edge_types: dict
2025-11-12 22:08:57 | INFO     |   nodes: [9 items]
2025-11-12 22:08:57 | INFO     |   edges: [5 items]
2025-11-12 22:08:57 | INFO     |   saved_to: output/property_graph.json
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 1.65ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 1: DeepSeek Enrichment
2025-11-12 22:08:57 | INFO     | Description: Validate and enrich entities with LLM
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: DeepSeek entity enrichment
2025-11-12 22:08:57 | INFO     |   error: cannot access local variable 'json' where it is not associated with a value
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: WARNING
2025-11-12 22:08:57 | INFO     | Duration: 0.57ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 2: Diagram Planning (Property Graph-Driven)
2025-11-12 22:08:57 | INFO     | Description: Create diagram plan from property graph
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Original request + Property graph
2025-11-12 22:08:57 | INFO     |   Type: str
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Planning mode: property_graph_driven
2025-11-12 22:08:57 | INFO     |   planning_mode: property_graph_driven
2025-11-12 22:08:57 | INFO     |   domain: current_electricity
2025-11-12 22:08:57 | INFO     |   entity_count: 1
2025-11-12 22:08:57 | INFO     |   relation_count: 0
2025-11-12 22:08:57 | INFO     |   constraint_count: 1
2025-11-12 22:08:57 | INFO     |   complexity_score: 0.035
2025-11-12 22:08:57 | INFO     |   z3_used: False
2025-11-12 22:08:57 | INFO     |   sympy_used: False
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 0.71ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 3: Scene Synthesis + Strategic Planning
2025-11-12 22:08:57 | INFO     | Description: Build scene graph and select strategy
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Problem specs with 1 objects
2025-11-12 22:08:57 | INFO     |   Type: CanonicalProblemSpec
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Scene with 12 objects
2025-11-12 22:08:57 | INFO     |   object_count: 12
2025-11-12 22:08:57 | INFO     |   selected_strategy: heuristic
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 243.12ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 4: Ontology Validation
2025-11-12 22:08:57 | INFO     | Description: Validate semantic consistency
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Specs with 1 objects
2025-11-12 22:08:57 | INFO     |   Type: CanonicalProblemSpec
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Consistent: True
2025-11-12 22:08:57 | INFO     |   consistent: True
2025-11-12 22:08:57 | INFO     |   errors: [0 items]
2025-11-12 22:08:57 | INFO     |   warnings: [21 items]
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 36.90ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 5: Physics Validation
2025-11-12 22:08:57 | INFO     | Description: Validate physics constraints and relationships
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Scene with 12 objects
2025-11-12 22:08:57 | INFO     |   Type: Scene
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Output:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Errors: 1, Warnings: 1
2025-11-12 22:08:57 | INFO     |   errors: 1
2025-11-12 22:08:57 | INFO     |   warnings: 1
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase completed: SUCCESS
2025-11-12 22:08:57 | INFO     | Duration: 0.38ms
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | PHASE 6: Layout Optimization + Z3
2025-11-12 22:08:57 | INFO     | Description: Compute optimal object positions
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Phase Input:
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | INFO     | Summary: Scene with 12 unpositioned objects
2025-11-12 22:08:57 | INFO     |   Type: Scene
2025-11-12 22:08:57 | INFO     | ----------------------------------------
2025-11-12 22:08:57 | ERROR    | 
2025-11-12 22:08:57 | ERROR    | ================================================================================
2025-11-12 22:08:57 | ERROR    | ERROR OCCURRED
2025-11-12 22:08:57 | ERROR    | ================================================================================
2025-11-12 22:08:57 | ERROR    | Context: {'domain': 'current_electricity', 'phase': 'generation'}
2025-11-12 22:08:57 | ERROR    | Error: AttributeError: 'NoneType' object has no attribute 'get'
2025-11-12 22:08:57 | ERROR    | 
2025-11-12 22:08:57 | ERROR    | Traceback:
2025-11-12 22:08:57 | ERROR    |   Traceback (most recent call last):
2025-11-12 22:08:57 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/unified_diagram_pipeline.py", line 1343, in generate
2025-11-12 22:08:57 | ERROR    |       positioned_scene = self.layout_engine.solve(scene, specs)
2025-11-12 22:08:57 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 84, in solve
2025-11-12 22:08:57 | ERROR    |       scene: Scene with objects and constraints (positions may be None)
2025-11-12 22:08:57 | ERROR    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-11-12 22:08:57 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 384, in _solve_constraints
2025-11-12 22:08:57 | ERROR    |       spacing_y = (self.height - 2 * self.margin) / (cols + 1)
2025-11-12 22:08:57 | ERROR    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-11-12 22:08:57 | ERROR    |     File "/Users/Pramod/projects/STEM-AI/pipeline_universal_STEM/core/universal_layout_engine.py", line 427, in _apply_constraint
2025-11-12 22:08:57 | ERROR    |   AttributeError: 'NoneType' object has no attribute 'get'
2025-11-12 22:08:57 | ERROR    |   
2025-11-12 22:08:57 | ERROR    | ================================================================================
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | RESPONSE
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | Status: FAILED
2025-11-12 22:08:57 | INFO     | Total Duration: 740498.84ms
2025-11-12 22:08:57 | ERROR    | Error: 'NoneType' object has no attribute 'get'
2025-11-12 22:08:57 | INFO     | 
2025-11-12 22:08:57 | INFO     | Full trace saved to: logs/req_20251112_215636.log
2025-11-12 22:08:57 | INFO     | ================================================================================
2025-11-12 22:08:57 | INFO     | Trace JSON saved to: logs/req_20251112_215636_trace.json
